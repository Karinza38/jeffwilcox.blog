---
layout: post
comments: true
title: ! 'Silverlight Unit Test Framework: New version in the April 2010 Silverlight
  Toolkit'
excerpt: The latest release of the Silverlight Toolkit contains the new Silverlight
  Unit Test Framework, with a new modern user interface, out-of-browser support, and
  performance improvements.
wordpress_id: 643
wordpress_url: http://www.jeff.wilcox.name/2010/05/new-2010-test-framework/
imported_categories:
- title: c#
  slug: csharp
  autoslug: c#
- title: silverlight
  slug: silverlight
  autoslug: silverlight
- title: testing
  slug: testing
  autoslug: testing
- title: silverlight-toolkit
  slug: silverlight-toolkit
  autoslug: silverlight-toolkit
imported_link_categories: []
tags: []
---
<p>In April we released a new version of the <a href="http://silverlight.codeplex.com/releases/view/43528">Silverlight Toolkit</a> for targeting Microsoft Silverlight 4. This release contains a new version of the Silverlight Unit Test Framework. Key improvements come in user interface, Silverlight 4 support, and performance.</p>  <h3>Rich, modern user interface</h3>  <p>The user interface no longer uses the antiquated HTML DOM bridge for displaying results, but now is a data bound, rich Silverlight application itself.</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="NewTestFramework" border="0" alt="NewTestFramework" src="http://www.jeff.wilcox.name/wp-content/uploads/2010/05/NewTestFramework.png" width="685" height="579" /></p>  <p>Rich results information is available, and a tree view control allows you to select results to be included in a test report that can be copied to the clipboard. Failures are automatically selected.</p>  <p>The results pane includes information about the tests that ran, as well as detailed information for failures.</p>  <p>Descriptive text helps identify negative tests, known test issues and bugs, and other important metadata that was not always exposed in the previous test framework.</p>  <h4>Integrated tag expression support</h4>  <p>The startup experience now allows you to enter a tag expression to select which tests to run, or not to run. You can add the Tag(“”) attribute to any test methods or classes to define your own tags. Also, the full and short names of tests and classes implicitly become test tags, as well as priorities.</p>  <p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="TagExpressionsEditor" border="0" alt="TagExpressionsEditor" src="http://www.jeff.wilcox.name/wp-content/uploads/2010/05/TagExpressionsEditor.png" width="685" height="375" /> </p>  <p>This means that you can define tags such as:</p>  <table border="0" cellspacing="0" cellpadding="2" width="600"><tbody>     <tr>       <td valign="top" width="152">!MyTest1</td>        <td valign="top" width="448">Run all tests except for the method named MyTest1</td>     </tr>      <tr>       <td valign="top" width="152">MyTest1+MyTest2</td>        <td valign="top" width="448">Run the MyTest1 and MyTest2 test methods</td>     </tr>   </tbody></table>  <h3>Out of Browser support</h3>  <p>The framework now supports running out-of-browser. Paired with the new Silverlight 4 Tools for Visual Studio 2010, you can press F5 to run a test project you have marked as an out-of-browser.</p>  <p>This also opens up an opportunity to do testing of elevated apps that make use of AutomationFactory and other advanced features on Windows.</p>  <h3>Simplified dependencies</h3>  <p>The test framework removed dependencies on System.Windows.Browser (from the platform) and System.Xml.Linq (XLinq, from the SDK).</p>  <h3>Building blocks for Windows Phone testing support</h3>  <p>This version also contains the full source to the phone testing interface, which is significantly different in visual design and experience to coincide with the Windows Phone device size.</p>  <p>However, the story for phone testing is still developing: in the meantime binaries designed for phone use can be found at <a href="http://jeffatmix.com/">http://jeffatmix.com/</a> </p>  <h3>New location for binaries</h3>  <p>Since the new rich user interface contains a number of controls, the traditional design-time integration system conflicts and presents some issues.</p>  <p>As a result, we had to move the binaries from the Bin directory of the toolkit installation folder into a new Testing directory.</p>  <p>So the two test framework assemblies (Microsoft.Silverlight.Testing and Microsoft.VisualStudio.QualityTools.UnitTesting.Silverlight) have moved.</p>  <p>This location change could cause existing applications that reference the test assemblies to fail to compile due to the &quot;missing&quot; references.</p>  <p>If that happens, please delete the two broken references and create references to these assemblies in their new location. Everything else should continue to work as expected.</p>  <h3>Simplified test project template</h3>  <p>In alignment with the test project changes in Visual Studio 2010, which are more simplified, the unit test project template for Silverlight no longer includes a README.TXT file.</p>  <h3>Known issues</h3>  <h5>Test service</h5>  <p>I’ve received reports from a number of people about issues with the test service automation support. Some of the NDA/preview users of the framework reported issues that were corrected, but there may still be some bugs out there. I’m working to investigate and post a fix if and when I know more.</p>  <p>In the meantime I know that <a href="http://statlight.net/">StatLight</a>, a third party system, has been updated for the April release and is working well for automation.</p>  <h5>Test panel and visuals</h5>  <p>Please beware that some of your tests may need to be updated to use the new framework if your application, utility functions, or tests ever used the Application.Current.RootVisual (against the recommended pattern for interface testing).</p>  <p>The root visual is now the test framework application runner itself, and the tests run within the same TestPanel as before. Controls added to the test panel will not be located at the 0, 0 screen position, but likely near the bottom of the screen instead.</p>  <p>Hope this helps. To get started, download and install the April toolkit!</p>
